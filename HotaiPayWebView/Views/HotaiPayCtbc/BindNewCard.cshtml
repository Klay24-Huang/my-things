
@{
    ViewBag.Title = "BindNewCard";
}

<!DOCTYPE html>
<html lang="en">
<head>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="@Url.Content("~/Scripts/jquery-3.4.1.min.js")" type="text/javascript"></script>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>選擇新的信用卡</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="~/Content/HotaiPayCss/style.css">

    <style>
        #fixed-center {
            /* background: #FFFF99;
            color: #FF6600;
            font-weight: bold; */
            /* border: 1px solid #990000; */
            /*padding: 10px;*/
            /*width: 100%;
            height: 80%;*/
            /*text-align: justify;*/
            position: fixed;
            top: 30%;
            /*left: 50%;
            margin-top: -200px;
            margin-left: -250px;*/
            z-index: 9999;
        }
    </style>
</head>


<body>
    <header class="d-flex justify-content-center align-items-center"><h6 style="margin-top: 8px;">選擇新的信用卡</h6></header>

    <div class="container" style="max-width: 414px;">
        <div id="fixed-center" style="visibility: hidden; ">
            <img src="../../images/LOAD.gif">
        </div>

        <div class="mt-4 opacity">
            <p class="text-gray">小提醒，一張信用卡只能綁定一個帳號哦！</p>
        </div>

        <div class="new-card d-flex ctbc-card mt-5 opacity">
            <!--第一塊觸發區域-->
            <div class="w-100">
                <a class="text-blue" onclick="goCTBCBindCard()" style="cursor: pointer; text-decoration: none; color: black " >
                    <span class="item-title"><img class="mr-2" src="../../images/icon/ctbcbank.svg" alt="">中信銀行信用卡</span>
                </a>
                <br>
                <div class="ml-2">
                    <span class="item-content text-gray">・無需輸入卡號，可快速綁定</span><br>
                    <!-- <span class="item-content text-gray">・<span class="text-red">中信和泰聯名卡</span>租車最高<span class="text-red">6%</span>和泰Points回饋</span> -->
                </div>
            </div>
            <a class="text-blue" onclick="goCTBCBindCard()" style="cursor: pointer;">
                <div class="d-flex"><img class="align-self-start mt-2" src="../../images/icon/more.svg" alt=""></div>
            </a>
        </div>

        <div class="new-card d-flex ctbc-card mt-5 opacity">
            <!--第二塊觸發區域-->
            <div class="w-100">
                <a class="text-blue" onclick="goOtherBindCard()" style="cursor: pointer; text-decoration: none; color: black ">
                    <span class="item-title">  <img class="mr-2" src="../../images/icon/credit_pay_card.svg" alt="">所有銀行的信用卡</span>
                </a>
            </div>
            <a class="text-blue" onclick="goOtherBindCard()" style="cursor: pointer;">
                <div class="d-flex"><img class="align-self-center" src="../../images/icon/more.svg" alt=""></div>
            </a>
        </div>

    </div>

</body>
</html>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>
<script src="js/main.js"></script>
<script src="~/Scripts/HotaiPayJS/PostAndGoto.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>

    function goCTBCBindCard() {
        //跳轉畫面
        document.location.href = "@ViewBag.reURL" +"HotaiPayCtbc/InsPersonInfo";
        @*window.location.href = '@Url.Action("InsPersonInfo", "HotaiPayCtbc")';*@
    }

    function goOtherBindCard() {
        document.getElementById("fixed-center").style.visibility = "visible";
        $('.opacity').css('opacity', '0.1')
        //call API
        //alert("其他銀行綁卡>>call API>> Redirect");
        $.ajax({
            type: "POST",
            url:"@Url.Action("AddCard")",
            data: "",
            success: function (result) {
                document.getElementById("fixed-center").style.visibility = "hidden";
                $('.opacity').css('opacity', '1.0')
                //console.log(result);
                if (result.succ) {
                    document.getElementById("fixed-center").style.visibility = "hidden";
                    $('.opacity').css('opacity', '1.0')
                    GOTO("toCTBCSmall", result.gotoUrl, result.postData);
                }
                else {
                    document.getElementById("fixed-center").style.visibility = "hidden";
                    $('.opacity').css('opacity', '1.0')
                    swal("錯誤2!", "請確認!", "error");
                }
            },
            error: function () {
            }
        })
        return false;
    }
</script>

