@model Domain.TB.BackEnd.BE_BannerDetailCombind
@{
    string StorageBaseURL = (System.Configuration.ConfigurationManager.AppSettings["StorageBaseURL"] == null) ? "" : System.Configuration.ConfigurationManager.AppSettings["StorageBaseURL"].ToString();
    string bannerContainer = (System.Configuration.ConfigurationManager.AppSettings["bannerContainer"] == null) ? "" : System.Configuration.ConfigurationManager.AppSettings["bannerContainer"].ToString();
    string ImgURL = StorageBaseURL + bannerContainer + "/";
    Domain.TB.BackEnd.BE_BannerDetailCombind obj = null;

    string PIC1 = "";
    string SEQ;
    if (Model != null)
    {
        obj = Model;
        PIC1 = obj.detail[0].PIC_NAME;
        SEQ = obj.detail[0].SEQNO;
    }
}
<div class="container mt-4">
    <!--card start-->
    <div class="card">
        <div class="card-header bg-secondary text-white">
            Banner維護
        </div>

        <input type="hidden" id="SEQ" name="SEQ" value="@obj.detail[0].SEQNO" />

        <ul class="list-group list-group-flush">
            <!--每一個li是一項查詢條件-->
            <li class="list-group-item">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2">
                            *有效起日
                        </div>
                        <div class="col-md-3">
                            <!-- datepicker -->
                            <div class="custom-datepicker">
                                <input class="datePicker form-control" type="text" id="SDate" name="SDate" value="@(obj.detail[0].STARTDATE.ToString("yyyy-MM-dd"))" readonly="false">
                                <svg width="22" height="22" viewBox="0 0 22 22">
                                    <g transform="translate(0 3)" fill="#fff" stroke="#9fa4ac" stroke-width="1">
                                        <rect width="22" height="19" rx="3" stroke="none" />
                                        <rect x="0.5" y="0.5" width="21" height="18" rx="2.5" fill="none" />
                                    </g>
                                    <g transform="translate(0 3)" fill="#9fa4ac" stroke="#9fa4ac" stroke-width="1">
                                        <path d="M3,0H19a3,3,0,0,1,3,3V6a0,0,0,0,1,0,0H0A0,0,0,0,1,0,6V3A3,3,0,0,1,3,0Z" stroke="none" />
                                        <path d="M3,.5H19A2.5,2.5,0,0,1,21.5,3V5a.5.5,0,0,1-.5.5H1A.5.5,0,0,1,.5,5V3A2.5,2.5,0,0,1,3,.5Z" fill="none" />
                                    </g>
                                    <g transform="translate(3.633 -0.005)">
                                        <rect id="Rectangle_37" data-name="Rectangle 37" width="2" height="8" rx="1" transform="translate(0.367 0.005)" fill="#9fa4ac" />
                                        <rect id="Rectangle_38" data-name="Rectangle 38" width="2" height="8" rx="1" transform="translate(11.367 0.005)" fill="#9fa4ac" />
                                    </g>
                                </svg>
                            </div>
                        </div>

                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2">
                            *有效迄日
                        </div>

                        <div class="col-md-3">
                            <!-- datepicker with time -->
                            <div class="custom-datepicker">
                                <input class="datePicker form-control" type="text" id="EDate" name="EDate" value="@(obj.detail[0].ENDDATE.ToString("yyyy-MM-dd"))" readonly="false">
                                <svg width="22" height="22" viewBox="0 0 22 22">
                                    <g transform="translate(0 3)" fill="#fff" stroke="#9fa4ac" stroke-width="1">
                                        <rect width="22" height="19" rx="3" stroke="none" />
                                        <rect x="0.5" y="0.5" width="21" height="18" rx="2.5" fill="none" />
                                    </g>
                                    <g transform="translate(0 3)" fill="#9fa4ac" stroke="#9fa4ac" stroke-width="1">
                                        <path d="M3,0H19a3,3,0,0,1,3,3V6a0,0,0,0,1,0,0H0A0,0,0,0,1,0,6V3A3,3,0,0,1,3,0Z" stroke="none" />
                                        <path d="M3,.5H19A2.5,2.5,0,0,1,21.5,3V5a.5.5,0,0,1-.5.5H1A.5.5,0,0,1,.5,5V3A2.5,2.5,0,0,1,3,.5Z" fill="none" />
                                    </g>
                                    <g transform="translate(3.633 -0.005)">
                                        <rect id="Rectangle_37" data-name="Rectangle 37" width="2" height="8" rx="1" transform="translate(0.367 0.005)" fill="#9fa4ac" />
                                        <rect id="Rectangle_38" data-name="Rectangle 38" width="2" height="8" rx="1" transform="translate(11.367 0.005)" fill="#9fa4ac" />
                                    </g>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </li>

            <li class="list-group-item">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2">
                            顯示順序
                        </div>
                        <div class="col-md-3">
                            <select class="form-control" id="StationType" name="StationType">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </div>
                    </div>
                </div>
            </li>

            <li class="list-group-item">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2">
                            webview網址
                        </div>
                        <div class="col-md-3">
                            <input class="form-control" type="text" name="URL" id="URL" value="@(obj.detail[0].URL)" />

                        </div>
                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2">
                            跑馬燈文字
                        </div>
                        <div class="col-md-3">
                            <input class="form-control" type="text" name="RunHorse" id="RunHorse" value="@(obj.detail[0].MarqueeText)" />

                        </div>
                    </div>
                </div>
            </li>

            <li class="list-group-item">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2">
                            Banner照片上傳
                        </div>
                        <div class="col-md-1">
                            <img src="@((PIC1=="")?"":ImgURL+PIC1)" id="PIC1" name="PIC1" class="img-thumbnail" style="max-width: 500%" /> <!--我不想改共用css，就直接改死這邊-->
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">

                        </div>
                        <div class="col-md-2">
                            上傳照片
                        </div>
                        <div class="col-md-8">
                            <input type="hidden" name="fileName1" id="fileName1" value="@(PIC1)" />
                            <input type="hidden" name="fileData1" id="fileData1" value="" />
                            <input type="file" class="jfilestyle" accept=".png" placeholder="請上傳excel檔案" data-theme="blue" id="fileImport" name="fileImport" data-inputSize="" data-text="選擇檔案">限 343*80
                            <button class="btn btn-primary" name="btnUpload" id="btnUpload">上傳圖片</button>
                            <button class="btn btn-danger" name="btnDelete" id="btnDelete" style="float:right;">刪除圖片</button>
                        </div>
                    </div>
                </div>
            </li>


            <li class="list-group-item">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-3 offset-md-2">
                            <input type="hidden" name="Mode" id="Mode" value="0" />
                            <input type="hidden" id="Account" name="Account" value="@((Session["Account"]==null)?"":Session["Account"].ToString())" />

                            <button type="button" id="btnSend" name="btnSend" class="btn btn-primary">儲存</button>
                            <button type="button" id="btnCancel" name="btnCancel" class="btn btn-secondary" onclick="history.back();">取消</button>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--end card-->
</div>
<div class="modal fade " id="surrounding_modal" tabindex="-1" role="dialog " data-backdrop="static" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <img id="tmpENVPIC" name="tmpENVPIC" src="" class="img-thumbnail" />

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">CLOSE</button>
            </div>
        </div>
    </div>
</div>

<script>
    var errorLine = '@((ViewData["errorLine"]==null)?"": ViewData["errorLine"].ToString())';
    var errorMsg = '@((ViewData["errorMsg"] == null)?"" : ViewData["errorMsg"].ToString())';
    var Account = '@((Session["Account"]==null)?"":Session["Account"].ToString())';
    var StationType = '@(obj.detail[0].QUEUE)'
</script>

